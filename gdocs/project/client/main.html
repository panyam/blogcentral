<!-- Use this CSS stylesheet to ensure that add-ons styling
     matches the default Google Docs styles -->
<html>
    <head>
        <link href="https://ssl.gstatic.com/docs/script/css/add-ons.css" rel="stylesheet">
        <link href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet">
        <link href="/static/css/style.css" rel="stylesheet">
    </head>
    <body>
        <!-- The sidebar will have a input box and the search button -->
        <div class="sidebar">
            <center>
                <button class="blue" id="add_site_button">Add</button>
            </center>
            <div id = "site_list">
            </div>
        </div>

        <div id="new_site_dialog" title="Add new Site">
          <form>
            <fieldset class = "dialog_fields">
              <label for="site_type">Site Type</label>
              <select id = "site_type" class = "ui-widget-content ui-corner-all">
                <option>WordPress Blog</option>
              </select>

              <label for="site_host">Site Host</label>
              <input type="url" name="site_host" id="site_host" value="https://leetcoach.com/" class="text ui-widget-content ui-corner-all">

              <label for="site_username">Username</label>
              <input type="url" name="site_username" id="site_username" value="panyam" class="text ui-widget-content ui-corner-all">

              <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
            </fieldset>
          </form>
        </div>


        <!-- Load the jQuery library from the Google CDN -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.6/handlebars.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"
                integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30="
                crossorigin="anonymous"></script>
        <script src="/static/models.js"></script>
        <script src="/static/views.js"></script>

        <script>
            var localStorageExists = typeof(Storage) !== "undefined";
            function setupUi(callback) {
                if (!localStorageExists) {
                    $("#site_list").html("You do not have local storage enabled.");
                } else {
                }
                callback();
            }

            function addNewSite() {
                alert("ok");
            }

            // Attach click handlers after the Sidebar has loaded in Google Docs
            $(function() {
                var newSiteDialog = new AddSiteDialog("new_site_dialog");
                setupUi(function() {
                    $( "#add_site_button" ).button().on( "click", function() {
                        newSiteDialog.open();
                    });
                });
            });
        </script>
    </body>
</html>
